(()=>{document.addEventListener("DOMContentLoaded",function(){let S=document.querySelector(".arrow-next"),b=document.querySelector(".arrow-prev"),r=document.querySelectorAll(".images-wrapper--large img"),m=document.querySelectorAll(".images-wrapper--container-small img"),s=document.querySelector(".images-wrapper--container-small"),q=document.querySelector(".section-gallery"),N=document.querySelector(".image-modal"),B=document.querySelector(".image-modal-modal-wrapper"),U=document.querySelector(".images-wrapper--open-image"),_=document.querySelector("body"),C=document.querySelector(".images-wrapper--open-image p:first-child"),R=document.querySelector(".images-wrapper--open-image p:nth-child(2)"),u=r[0].parentElement,w=r.length,f=w-2,a=1,p=500,H=189,y=19,L=H+y,k=300,g=!1,h=0,$=0,X=!1,P=70,c=t=>{r.forEach(e=>e.style.transition=`transform ${t}ms ease-out`)},T=t=>{if(!C||!R)return;let e=t;t===0?e=f:t===w-1&&(e=1);let n=r[t];if(!n)return;let o=n.getAttribute("alt"),i=n.getAttribute("title");C.textContent=`${e}/${f}`,R.textContent=i||o||""},x=t=>{if(!g){m.forEach(z=>z.classList.remove("active"));let I=t;t===0&&(I=f),t===w-1&&(I=1);let O=I-1;m[O]&&m[O].classList.add("active");return}let e=t,n=s.parentElement;if(!n)return;let o=n.clientWidth,i=s.style.transform||"translateX(0px)",l=Math.abs(parseFloat(i.replace(/translateX\((.*)px\)/,"$1"))),d=e*L,W=d+H,D=l,j=l+o-y,v=l;W>j?v=W-o+y:d<D&&(v=d);let G=m.length*L-y,Z=Math.max(0,G-o);v=Math.min(v,Z),v=Math.max(0,v),s.style.transform=`translateX(-${v}px)`,m.forEach(I=>I.classList.remove("active")),m[e].classList.add("active")},E=t=>{c(p),r.forEach((e,n)=>{e.style.transform=`translateX(${100*(n-t)}%)`}),a=t,g?s.style.transition=`transform ${k}ms ease-out`:s.style.transition="none",x(a),T(a),a===w-1?setTimeout(()=>{if(c(0),r.forEach((e,n)=>{e.style.transform=`translateX(${100*(n-1)}%)`}),a=1,g){s.style.transition="none";let n=1*L;s.style.transform=`translateX(-${n}px)`}x(a),T(a),setTimeout(()=>c(p),50)},p):a===0&&setTimeout(()=>{if(c(0),r.forEach((e,n)=>{e.style.transform=`translateX(${100*(n-f)}%)`}),a=f,g){s.style.transition="none";let e=s.parentElement;if(e){let n=e.clientWidth,o=m.length*L-y,l=Math.max(0,o-n);s.style.transform=`translateX(-${l}px)`}}x(a),T(a),setTimeout(()=>c(p),50)},p)},M=()=>{E(a+1)},A=()=>{E(a-1)};u.addEventListener("mousedown",t=>{t.button===0&&(X=!0,h=t.clientX,t.preventDefault(),c(0))}),u.addEventListener("mousemove",t=>{if(!X)return;let n=t.clientX-h;r.forEach((o,i)=>{let l=100*(i-a),d=n/u.offsetWidth*100;o.style.transform=`translateX(${l+d}%)`})}),u.addEventListener("mouseup",t=>{if(!X)return;X=!1;let n=t.clientX-h;c(p),Math.abs(n)>=P?n>0?A():M():E(a)}),u.addEventListener("mouseleave",()=>{X&&(X=!1,c(p),E(a))}),u.addEventListener("touchstart",t=>{h=t.touches[0].clientX,$=t.touches[0].clientY,c(0)}),u.addEventListener("touchmove",t=>{let e=t.touches[0].clientX,n=t.touches[0].clientY,o=e-h,i=n-$;Math.abs(o)>Math.abs(i)&&(t.preventDefault(),r.forEach((l,d)=>{let W=100*(d-a),D=o/u.offsetWidth*100;l.style.transform=`translateX(${W+D}%)`}))}),u.addEventListener("touchend",t=>{let n=t.changedTouches[0].clientX-h;c(p),Math.abs(n)>=P?n>0?A():M():E(a),h=0,$=0}),S&&b&&(S.addEventListener("click",M),b.addEventListener("click",A)),document.addEventListener("keydown",t=>{t.key==="ArrowLeft"&&A(),t.key==="ArrowRight"&&M()}),m.forEach(t=>{t.addEventListener("click",function(){let e=parseInt(this.getAttribute("data-active"));if(g){if(isNaN(e))return}else if(isNaN(e))return;isNaN(e)||E(e)})});let Y=`<svg xmlns="http://www.w3.org/2000/svg" width="800px" height="800px" viewBox="0 0 24 24" fill="#fff">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z" fill="#fff"/>
</svg>`;U.addEventListener("click",()=>{let t;if(r.length===1)t=r[0];else{let n=a===0?f:a===w-1?1:a;t=r[n]}if(!t)return;let e=t.cloneNode(!0);N.innerHTML="",q.classList.add("open-image-modal"),_.classList.add("open-image-modal"),N.append(e),N.insertAdjacentHTML("beforeend",Y)}),B.addEventListener("click",()=>{q.classList.remove("open-image-modal"),_.classList.remove("open-image-modal"),N.innerHTML=""});function F(){if(r.length===1){a=0,T(0),C&&(C.style.display="none"),S&&(S.style.display="none"),b&&(b.style.display="none");return}let t=s.parentElement;if(!t)return;let e=t.clientWidth;if(g=f*L-y>e,g&&f>1){let o=m[0],l=m[f-1].cloneNode(!0);l.classList.add("cloned-thumbnail"),l.removeAttribute("data-active");let d=o.cloneNode(!0);d.classList.add("cloned-thumbnail"),d.removeAttribute("data-active"),s.prepend(l),s.append(d),m=document.querySelectorAll(".images-wrapper--container-small img")}if(c(0),r.forEach((o,i)=>{o.style.transform=`translateX(${100*(i-a)}%)`}),g){let i=1*L;s.style.transition="none",s.style.transform=`translateX(-${i}px)`}else s.style.transition="none",s.style.transform="translateX(0px)";x(a),T(a),setTimeout(()=>c(p),50),g&&setTimeout(()=>s.style.transition=`transform ${k}ms ease-out`,100)}F(),T(a)});})();
//# sourceMappingURL=gallery.js.map
